"use strict";class Carousel{constructor(e){this.el=e,this.carouselOptions=["previous","next"],this.carouselData=[{id:"1",src:"https://video.stratus.nrel.gov/pie-ag-residues.png"},{id:"2",src:"https://video.stratus.nrel.gov/pie-energy-crops.png"},{id:"3",src:"https://video.stratus.nrel.gov/pie-wastes.png"},{id:"4",src:"https://video.stratus.nrel.gov/pie-logging.png"},{id:"5",src:"https://video.stratus.nrel.gov/pie-forest-mill-residues.png"},{id:"6",src:"https://video.stratus.nrel.gov/pie-tree-biomass.png"}],this.carouselInView=[1,2,3,4,5,6],this.carouselContainer,this.carouselPlayState}mounted(){this.setupCarousel()}setupCarousel(){let e=document.createElement("div"),s=document.createElement("div");this.el.append(e,s),e.className="carousel-container",s.className="carousel-controls",this.carouselData.forEach((s,t)=>{let a=s.src?document.createElement("img"):document.createElement("div");e.append(a),a.className=`carousel2-item carousel-item-${t+1}`,a.src=s.src,a.setAttribute("loading","lazy"),a.setAttribute("data-index",`${t+1}`)}),this.carouselOptions.forEach(e=>{let t=document.createElement("button"),a=document.createElement("span");a.innerText=e,a.className="ax-hidden",t.append(a),t.className=`carousel-control carousel-control-${e}`,t.setAttribute("data-name",e),s.append(t)}),this.setControls([...s.children]),this.carouselContainer=e}setControls(e){e.forEach(e=>{e.onclick=s=>{s.preventDefault(),this.controlManager(e.dataset.name)}})}controlManager(e){return"previous"===e?this.previous():"next"===e?this.next():"add"===e?this.add():"play"===e?this.play():void 0}previous(){this.carouselData.unshift(this.carouselData.pop()),this.carouselInView.push(this.carouselInView.shift()),this.carouselInView.forEach((e,s)=>{this.carouselContainer.children[s].className=`carousel2-item carousel-item-${e}`}),this.carouselData.slice(0,5).forEach((e,s)=>{document.querySelector(`.carousel-item-${s+1}`).src=e.src})}next(){this.carouselData.push(this.carouselData.shift()),this.carouselInView.unshift(this.carouselInView.pop()),this.carouselInView.forEach((e,s)=>{this.carouselContainer.children[s].className=`carousel2-item carousel-item-${e}`}),this.carouselData.slice(0,5).forEach((e,s)=>{document.querySelector(`.carousel-item-${s+1}`).src=e.src})}add(){let e={id:"",src:""},s=this.carouselData.length,t=this.carouselData.findIndex(e=>e.id==s);Object.assign(e,{id:`${s+1}`,src:`http://fakeimg.pl/300/?text=${s+1}`}),this.carouselData.splice(t+1,0,e),this.next()}play(){let e=document.querySelector(".carousel-control-play"),s=()=>this.next();e.classList.contains("playing")?(e.classList.remove("playing"),clearInterval(this.carouselPlayState),this.carouselPlayState=null):(e.classList.add("playing"),this.next(),this.carouselPlayState=setInterval(s,1500))}}const el=document.querySelector(".carousel2"),exampleCarousel=new Carousel(el);exampleCarousel.mounted();